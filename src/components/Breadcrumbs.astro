---
import { Sprite } from "astro-icon";

let pathname: string = Astro.url.pathname;
if (pathname.at(-1) === "/") {
	pathname = pathname.slice(0, pathname.length - 1);
}

const breadcrumbs = pathname.split("/").map((path: string) => {
	if (path === "cart") {
		return {
			href: "/cart",
			label: "Cart",
			iconName: "cart",
		};
	} else if (path === "wishlist") {
		return {
			href: "/wishlist",
			label: "Wishlist",
			iconName: "heart",
		};
	} else if (path === "shop") {
		return {
			href: "/shop",
			label: "Shop",
			iconName: "shop",
		};
	} else if (path === "product") {
		return {
			href: "/product",
			label: "Product",
			iconName: "cart",
		};
	} else if (path === "catalog") {
		return {
			href: "/catalog",
			label: "Catalog",
			iconName: "shopping",
		};
	} else {
		return {
			href: "/",
			label: "Home",
			iconName: "home",
		};
	}
});
---

<div class="container">
	<div class="breadcrumbs">
		<ul class="text-sm breadcrumbs-items">
			{
				breadcrumbs.map(({ href, label, iconName }: any) => {
					return (
						<li>
							<a href={href}>
								<Sprite class="w-4 h-4 mr-1" pack="mdi" name={iconName} />
								{label}
							</a>
						</li>
					);
				})
			}
		</ul>
	</div>
</div>
