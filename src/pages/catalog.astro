---
import { Sprite } from "astro-icon";
import Layout from "../components/Layout.astro";
import { getRandomImgSrc } from "../utils/funcs";

const products = Array(9).fill(0);
---

<Layout>
	<div class="flex gap-4 container h-full">
		<div class="hidden md:block flex-1 max-w-xs">
			<div class="bg-base-200 rounded-box sticky top-20 divide-y">
				<div class="collapse collapse-arrow">
					<input type="checkbox" class="peer" />
					<div class="collapse-title">Categories</div>
					<div class="collapse-content">
						<div class="space-y-2">
							{
								[
									"All categories",
									"Mobile phones",
									"Tablets",
									"Bikes",
									"Coffee Makers",
									"PC Components",
									"Drones",
								].map((category: string) => {
									return (
										<label class="flex gap-2 items-center" id="category">
											<input
												type="radio"
												name="category"
												class="radio radio-sm"
											/>
											<p>{category}</p>
										</label>
									);
								})
							}
						</div>
					</div>
				</div>
				<div class="collapse collapse-arrow">
					<input type="checkbox" class="peer" />
					<div class="collapse-title">Price</div>
					<div class="collapse-content">
						<input
							type="range"
							min="0"
							max="100"
							value="25"
							class="range"
							step="25"
						/>
						<div class="w-full flex justify-between text-xs px-2">
							<span>|</span>
							<span>|</span>
							<span>|</span>
							<span>|</span>
							<span>|</span>
						</div>
					</div>
				</div>
				<div class="collapse collapse-arrow">
					<input type="checkbox" class="peer" />
					<div class="collapse-title">Rank</div>
					<div class="collapse-content">
						<div class="flex flex-col gap-4">
							{
								Array(5)
									.fill(0)
									.map((_, i) => {
										return (
											<div class="flex items-center gap-2">
												<input
													type="checkbox"
													checked="checked"
													class="checkbox checkbox-sm"
												/>
												<div class="rating rating-md">
													{Array(5)
														.fill(0)
														.map((_, j) => {
															return (
																<input
																	type="radio"
																	name={`rating-${20 * i + j}`}
																	class="mask mask-star"
																	checked={false}
																/>
															);
														})}
												</div>
											</div>
										);
									})
							}
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="flex-1 bg-base-200 rounded-box p-4">
			<div class="flex justify-between items-center">
				<h1 class="text-2xl font-bold">
					Catalog <span class="text-sm opacity-60">({products.length})</span>
				</h1>
				<div class="flex justify-end gap-2 items-center">
					<div class="btn-group">
						<button class="btn btn-sm btn-active">
							<Sprite class="w-4 h-4" name="mdi:dots-grid" />
						</button>
						<button class="btn btn-sm btn-outline">
							<Sprite class="w-4 h-4" name="mdi:menu" />
						</button>
					</div>
					<select class="select select-sm select-bordered max-w-xs">
						<option disabled selected>Sort by</option>
						<option>Popular</option>
						<option>Rank</option>
					</select>
				</div>
			</div>
			<div>
				<div class="grid grid-cols-item gap-4 mt-4">
					{
						products.map(() => {
							return (
								<a
									href="/product"
									class="flex flex-col bg-base-300 rounded-lg group overflow-hidden"
								>
									<div class="flex flex-1 relative justify-center items-center m-2 mb-0">
										<Sprite
											class="w-8 h-8 hidden absolute top-0 right-0 group-hover:block cursor-pointer"
											pack="mdi"
											name="heart"
										/>
										<div class="flex flex-1 h-[150px] justify-center items-center overflow-hidden rounded-lg">
											<img
												class="object-cover rounded-[inherit]"
												src={getRandomImgSrc()}
											/>
										</div>
									</div>
									<div class="flex items-stretch p-2">
										<div class="flex-1">
											<p class="opacity-60">Electronics</p>
											<p class="font-bold break-all">
												Lorem ipsum dolor sit amet, asd f adipisicing elit
											</p>
											<div class="flex items-center">
												<div class="rating items-center">
													<input
														type="radio"
														name="rating-1"
														class="mask mask-star"
													/>
													<input
														type="radio"
														name="rating-1"
														class="mask mask-star"
														checked
													/>
													<input
														type="radio"
														name="rating-1"
														class="mask mask-star"
													/>
													<input
														type="radio"
														name="rating-1"
														class="mask mask-star"
													/>
													<input
														type="radio"
														name="rating-1"
														class="mask mask-star"
													/>
												</div>
												<div class="flex items-center">
													<p class="flex-1 opacity-60 text-sm ml-1">103 view</p>
												</div>
											</div>
											<div>
												<p class="text-3xl font-bold">$29.59</p>
											</div>
											<div class="flex gap-2">
												<button class="flex flex-nowrap items-center gap-1 flex-1 btn btn-outline btn-sm">
													<Sprite class="w-4 h-4" name="mdi:cart" />
													add to cart
												</button>
												<button class="flex-1 btn btn-primary btn-sm">
													buy now
												</button>
											</div>
										</div>
									</div>
								</a>
							);
						})
					}
				</div>
			</div>
		</div>
	</div>
</Layout>
